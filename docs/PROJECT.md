# 물류 시뮬레이션 — 작업·확인용 문서

프로젝트 로드맵, 모드 정의, 기술 스택, 배포 절차 등 **작업용** 정리입니다.  
GitHub 메인 소개는 [README.md](../README.md)를 보세요.

---

## 목표

- **웹·모바일 공통**: 반응형 웹으로 데스크톱·모바일 모두 사용 가능
- **1차**: 고정된 핵심 기능만 구현 후, 단계적으로 기능 추가
- **두 가지 모드**
  - **배치·테스트**: 단순 배치 및 동작 테스트
  - **시뮬레이션**: 시간에 따른 흐름 분석 및 결과 확인

---

## 핵심 요소 (시뮬레이션 파라미터)

| 구분 | 설명 | 예시 |
|------|------|------|
| 장비 배치 | 컨베이어, 로봇, 창고 등 위치/방향 | 그리드 또는 좌표 기반 |
| 물품 이동 속도 | 컨베이어·AGV 등에서의 이동 속도 | m/s, 칸/초 등 |
| 장비 처리 속도 | 입고/출고/가공 처리량 | 개/분, 회/시간 |
| 필요 전력 | 장비별 전력 소비 | kW, 누적 전력 |
| (추가) | 대기열, 병목, 우선순위 등 | 이후 단계에서 정의 |

---

## 개발 단계 (로드맵)

### Phase 1 – 최소 구현 (점검)

| 항목 | 상태 | 비고 |
|------|------|------|
| 반응형 레이아웃 (웹 + 모바일) | ✅ 완료 | 뷰포트·패널·줌·모바일 대응 |
| **배치 모드**: 그리드 위 장비 배치/삭제/회전 | ✅ 완료 | 입고·출고·컨베이어·기계1, 컨베이어 방향=회전 |
| **테스트 모드**: 배치된 경로 따라 물품 1개 흐름 확인 | ✅ 완료 | 「물품 1개 흐름」 버튼 → 입고→컨베이어→출고 경로 시연 |
| 시뮬레이션 모드: 고정 시나리오 1~2종 | ⬜ 미구현 | 현재 플레이스홀더만 |
| 기본 지표: 처리량, 평균 대기 시간 (간단 수치) | ⬜ 미구현 | 시뮬레이션 연동 후 |

**Phase 1 완료**  
- 테스트 모드 구현됨. 시뮬레이션 모드·기본 지표는 Phase 2에서 구현.

### Phase 2 – 시뮬레이션 강화 (계획)

**우선순위 제안**
1. **시뮬레이션 엔진 골격**: 현재 슬롯의 layout을 읽어, 입고→컨베이어(방향)→기계/출고 흐름을 시간 단위로 진행. (처리량·대기 없이 “몇 분 동안 N개 처리” 수준부터.)
2. **시뮬레이션 모드 UI**: 재생/일시정지/스텝, 시나리오(시간·입고 속도) 설정.
3. **기본 지표**: 처리량, 평균 대기 시간 (간단 수치 표시).
4. **차트**: 시간–처리량·대기열·전력 (선택).
5. **장비 파라미터 UI**: 속도·전력·용량 입력 (선택).
6. **JSON 내보내기/가져오기**: 슬롯 데이터 백업·공유 (선택).

### Phase 3 – 확장
- [ ] 다양한 장비 타입·동작 추가
- [ ] 병목 분석, 최적 배치 제안(휴리스틱)
- [ ] 다국어·테마 등 운영 편의 기능

---

## 모드 설명

### 1. 배치·테스트 모드
- **목적**: 레이아웃 설계와 단순 동작 검증
- **기능**
  - 맵(그리드) 위에 장비 배치/이동/삭제
  - 연결 관계(입구↔출구) 시각화
  - "한 번에 한 물품" 테스트 실행으로 경로만 확인
- **결과**: 배치가 논리적으로 맞는지, 경로가 끊기지 않는지 확인

### 2. 시뮬레이션 모드
- **목적**: 시간 흐름에 따른 성능·흐름 파악
- **기능**
  - 시뮬레이션 시간(예: 8시간) 동안 입고/출고 이벤트 반영
  - 장비별 처리 속도·전력·대기열 반영
  - 실시간 또는 스텝별 재생/일시정지
- **결과**: 처리량, 평균 대기 시간, 전력 사용량, 병목 구간 등

---

## 기술 스택

- **프레임워크**: React + TypeScript
- **빌드**: Vite (빠른 개발·HMR)
- **스타일**: CSS Modules 또는 Tailwind (반응형·테마 확장 용이)
- **상태**: React 상태로 시작 → 필요 시 Zustand/Context
- **차트(Phase 2)**: Lightweight Charts 또는 Recharts

---

## 프로젝트 구조

```
play_sim/
├── docs/
│   ├── PROJECT.md      # 본 문서 (작업·확인용)
│   └── FEATURES.md     # 기능 정리 (작업 환경·저장·버전·슬롯)
├── src/
│   ├── components/     # 공통 UI (버튼, 그리드, 모달)
│   ├── features/
│   │   ├── layout/     # 배치·테스트 모드
│   │   └── simulation/ # 시뮬레이션 모드
│   ├── models/         # 장비, 물품, 이벤트·슬롯·버전 타입 정의
│   ├── workspace/      # 슬롯·저장·버전 (로컬 스토리지 골격)
│   ├── simulation/     # 시뮬레이션 엔진(속도, 전력, 대기열)
│   ├── App.tsx
│   └── main.tsx
├── public/
├── index.html
├── package.json
├── tsconfig.json
└── README.md           # 프로젝트 소개 (GitHub 메인)
```

작업 환경·저장·버전·슬롯 관리에 대한 상세 기능 정리는 **[docs/FEATURES.md](FEATURES.md)**를 참고하세요.

---

## GitHub에 올리고 웹에서 접속하기

**기준 저장소**: [https://github.com/Jeon-HS401/logistics-sim](https://github.com/Jeon-HS401/logistics-sim)

이 프로젝트는 **GitHub Pages**로 배포하면 웹 주소로 접속할 수 있습니다.

### 1. 이미 저장소가 있는 경우

로컬에서 원격만 연결해 푸시하면 됩니다.

```bash
git remote add origin https://github.com/Jeon-HS401/logistics-sim.git
git branch -M main
git push -u origin main
```

(이미 `origin`이 있으면 `git remote set-url origin https://github.com/Jeon-HS401/logistics-sim.git` 후 `git push -u origin main`)

### 2. GitHub Pages 켜기

1. [logistics-sim](https://github.com/Jeon-HS401/logistics-sim) 저장소에서 **Settings** → **Pages**
2. **Build and deployment**에서 **Source**를 **GitHub Actions**로 선택

이후 `main` 브랜치에 푸시할 때마다 자동으로 빌드·배포됩니다.  
(처음에 배포가 안 되면 **Actions** 탭에서 `Deploy to GitHub Pages` 워크플로우를 한 번 수동 실행해 보세요.)

### 3. 웹에서 접속 주소

- **주소**: **https://Jeon-HS401.github.io/logistics-sim/**

---

구현을 진행하면서 이 문서를 단계별로 수정해 나가면 됩니다.
